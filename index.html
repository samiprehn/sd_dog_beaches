async function fetchWaterTemp(buoyId) {
            try {
                const res = await fetch(`https://corsproxy.io/?https://www.ndbc.noaa.gov/data/realtime2/${buoyId}.txt`);
                if (!res.ok) return null;
                
                const text = await res.text();
                const lines = text.trim().split('\n');
                if (lines.length < 3) return null;
                
                const dataLine = lines[2].trim().split(/\s+/);
                const headerLine = lines[0].trim().split(/\s+/);
                
                const wtmpIndex = headerLine.indexOf('WTMP');
                if (wtmpIndex === -1) return null;
                
                const tempC = parseFloat(dataLine[wtmpIndex]);
                if (isNaN(tempC) || tempC === 99 || tempC === 999) return null;
                
                return Math.round(tempC * 9/5 + 32);
            } catch (err) {
                console.error(`Error fetching water temp for buoy ${buoyId}:`, err);
                return null;
            }
        }
